{"version":3,"sources":["App.module.scss","types.ts","calcPositions.ts","Apple.svg","YouDied.tsx","Keys.svg","App.tsx","useInterval.ts","getItem.tsx","serviceWorker.ts","index.tsx","YouDied.module.scss"],"names":["module","exports","ARROW","DIRECTION","x","y","FIELD_ROW","Array","keys","limitByField","FIELD_SIZE","getFoodItem","Math","floor","random","foodItem","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","d","_ref","svgRef","title","props","width","viewBox","height","ref","ForwardRef","forwardRef","YouDied","cb","className","styles","died","died_button","onClick","type","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","enableBackground","xmlSpace","initialSnake","App","useState","snakeSegments","setSnakeSegments","direction","setDirection","gameOver","setGameOver","handleKeyPress","useCallback","ev","code","UP","DOWN","LEFT","RIGHT","useEffect","window","addEventListener","removeEventListener","head","intersectsWithItself","some","tailSegment","delay","savedCallback","useRef","current","id","setInterval","clearInterval","useInterval","segments","newHead","collidesWithFood","slice","newSnakePosition","game_box","game_title","grid","map","row","food","fill","snake_head","snake_body","getItem","pixel","href","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"6GACAA,EAAOC,QAAU,CAAC,SAAW,sBAAsB,WAAa,wBAAwB,KAAO,kBAAkB,IAAM,iBAAiB,WAAa,wBAAwB,MAAQ,yCAAyC,WAAa,8CAA8C,WAAa,8CAA8C,KAAO,wCAAwC,KAAO,oB,oGCD9XC,E,wEAAAA,K,aAAAA,E,iBAAAA,E,iBAAAA,E,oBAAAA,M,KAYL,IAAMC,EACJ,CAAEC,EAAG,EAAGC,EAAG,GADPF,EAEL,CAAEC,GAAI,EAAGC,EAAG,GAFPF,EAGN,CAAEC,EAAG,EAAGC,GAAI,GAHNF,EAIH,CAAEC,EAAG,EAAGC,EAAG,GAMRC,EAAS,YAAO,IAAIC,MADP,IACyBC,QClBnD,IAAMC,EAAe,SAACL,GACpB,OAAIA,GDgBoB,GCff,EAELA,EAAI,EACCM,GAGFN,GAGHO,EAAc,iBAAO,CACzBP,EAAGQ,KAAKC,MDKgB,GCLVD,KAAKE,UACnBT,EAAGO,KAAKC,MDIgB,GCJVD,KAAKE,YAGVC,EAAWJ,ICpBtB,SAASK,IAA2Q,OAA9PA,EAAWC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAASS,EAAyBP,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOT,KAAKe,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASE,QAAQT,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxMe,CAA8BX,EAAQQ,GAAuB,GAAId,OAAOkB,sBAAuB,CAAE,IAAIC,EAAmBnB,OAAOkB,sBAAsBZ,GAAS,IAAKH,EAAI,EAAGA,EAAIgB,EAAiBd,OAAQF,IAAOI,EAAMY,EAAiBhB,GAAQW,EAASE,QAAQT,IAAQ,GAAkBP,OAAOQ,UAAUY,qBAAqBV,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,IAAImB,EAEJ,IAAMC,cAAc,OAAQ,CAC1BC,EAAG,4hCAGD,EAAW,SAAkBC,GAC/B,IAAIC,EAASD,EAAKC,OACdC,EAAQF,EAAKE,MACbC,EAAQd,EAAyBW,EAAM,CAAC,SAAU,UAEtD,OAAO,IAAMF,cAAc,MAAOvB,EAAS,CACzC6B,MAAO,QACPC,QAAS,cACTC,OAAQ,QACRC,IAAKN,GACJE,GAAQ,IAAML,cAAc,QAAS,KAAMI,GAAQL,IAGpDW,EAAa,IAAMC,WAAW,SAAUN,EAAOI,GACjD,OAAO,IAAMT,cAAc,EAAUvB,EAAS,CAC5C0B,OAAQM,GACPJ,M,GAEU,I,+BChBAO,EATkB,SAAC,GAAD,IAAGC,EAAH,EAAGA,GAAH,OAC/B,oCACE,wBAAIC,UAAWC,IAAOC,MAAtB,YACA,4BAAQF,UAAWC,IAAOE,YAAaC,QAASL,GAAhD,mCCVJ,SAAS,IAA2Q,OAA9P,EAAWnC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAAS,EAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOT,KAAKe,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASE,QAAQT,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxM,CAA8BI,EAAQQ,GAAuB,GAAId,OAAOkB,sBAAuB,CAAE,IAAIC,EAAmBnB,OAAOkB,sBAAsBZ,GAAS,IAAKH,EAAI,EAAGA,EAAIgB,EAAiBd,OAAQF,IAAOI,EAAMY,EAAiBhB,GAAQW,EAASE,QAAQT,IAAQ,GAAkBP,OAAOQ,UAAUY,qBAAqBV,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,IAAI,EAEJ,IAAMoB,cAAc,QAAS,CAC3BmB,KAAM,YACL,6JAECC,EAEJ,IAAMpB,cAAc,OAAQ,CAC1Bc,UAAW,MACXb,EAAG,6HAGDoB,EAEJ,IAAMrB,cAAc,OAAQ,CAC1Bc,UAAW,MACXb,EAAG,2RAGDqB,EAEJ,IAAMtB,cAAc,OAAQ,CAC1Bc,UAAW,MACXb,EAAG,2HAGDsB,EAEJ,IAAMvB,cAAc,OAAQ,CAC1Bc,UAAW,MACXb,EAAG,yRAGDuB,EAEJ,IAAMxB,cAAc,OAAQ,CAC1Bc,UAAW,MACXb,EAAG,2HAGDwB,EAEJ,IAAMzB,cAAc,OAAQ,CAC1Bc,UAAW,MACXb,EAAG,mSAGDyB,EAEJ,IAAM1B,cAAc,OAAQ,CAC1Bc,UAAW,MACXb,EAAG,2HAGD0B,EAEJ,IAAM3B,cAAc,OAAQ,CAC1Bc,UAAW,MACXb,EAAG,gSAGD,EAAU,SAAiBC,GAC7B,IAAIC,EAASD,EAAKC,OACdC,EAAQF,EAAKE,MACbC,EAAQ,EAAyBH,EAAM,CAAC,SAAU,UAEtD,OAAO,IAAMF,cAAc,MAAO,EAAS,CACzC4B,iBAAkB,gBAClBrB,QAAS,YACTsB,SAAU,WACVpB,IAAKN,GACJE,GAAQ,IAAML,cAAc,QAAS,KAAMI,GAAQ,EAAOgB,EAAOC,EAAOC,EAAOC,EAAOC,EAAOC,EAAOC,EAAOC,IAG5G,EAAa,IAAMhB,WAAW,SAAUN,EAAOI,GACjD,OAAO,IAAMT,cAAc,EAAS,EAAS,CAC3CG,OAAQM,GACPJ,MC3ECyB,GD6ES,IC7EM,CAAC,CAAEjE,EAAG,EAAGC,EAAG,GAAK,CAAED,EAAG,EAAGC,EAAG,GAAK,CAAED,EAAG,EAAGC,EAAG,KAoFlDiE,EAlFO,WAAO,IAAD,EACgBC,mBACxCF,GAFwB,mBACnBG,EADmB,KACJC,EADI,OAIQF,mBAAmBpE,GAJ3B,mBAInBuE,EAJmB,KAIRC,EAJQ,OAKMJ,oBAAS,GALf,mBAKnBK,EALmB,KAKTC,EALS,KAOpBC,EAAiBC,sBAAY,SAACC,GAClC,IAAMC,EAAOD,EAAGC,KAEZA,IAAS/E,EAAMgF,IACjBP,EAAaxE,GAEX8E,IAAS/E,EAAMiF,MACjBR,EAAaxE,GAEX8E,IAAS/E,EAAMkF,MACjBT,EAAaxE,GAEX8E,IAAS/E,EAAMmF,OACjBV,EAAaxE,IAEd,IAEHmF,oBAAU,WAGR,OAFAC,OAAOC,iBAAiB,UAAWV,GAE5B,kBAAMS,OAAOE,oBAAoB,UAAWX,KAClD,CAACA,IA5BsB,kBA8BFN,GAAjBkB,EA9BmB,KAgCpBC,EAhCoB,WAgCQC,KAChC,SAAAC,GAAW,OAAIA,EAAYzF,IAAMsF,EAAKtF,GAAKyF,EAAYxF,IAAMqF,EAAKrF,IAGhEsF,IAAyBf,GAC3BC,GAAY,GC3CT,SAAqBzB,EAAc0C,GACxC,IAAMC,EAAgBC,iBAAO,cAE7BV,oBAAU,WACRS,EAAcE,QAAU7C,GACvB,CAACA,IAEJkC,oBAAU,WACR,GAAc,OAAVQ,EAAgB,CAClB,IAAII,EAAKC,YAAY,kBAAMJ,EAAcE,WAAWH,GACpD,OAAO,kBAAMM,cAAcF,MAE5B,CAACJ,IDkCJO,CACE,WACE5B,EAAiB,SAAA6B,GAAQ,OJ7BC,SAC9BA,EACA5B,GACI,IACGgB,EADJ,YACYY,EADZ,MAEGC,EAAU,CACdnG,EAAGK,EAAaiF,EAAKtF,EAAIsE,EAAUtE,GACnCC,EAAGI,EAAaiF,EAAKrF,EAAIqE,EAAUrE,IAErC,OAbuB,SAACqF,EAAgB3E,GACxC,OAAOA,EAASX,IAAMsF,EAAKtF,GAAKW,EAASV,IAAMqF,EAAKrF,EAYhDmG,CAAiBD,EAASxF,IAC5BA,EAAWJ,IAEL,CAAE4F,GAAR,mBAAoBD,KAEd,CAAEC,GAAR,mBAAoBD,EAASG,MAAM,GAAI,KIeRC,CAAiBJ,EAAU5B,MAE1DE,EAAW,KAAO,KASpB,OACE,yBAAKvB,UAAWC,IAAOqD,UACrB,wBAAItD,UAAWC,IAAOsD,YAAtB,cAEA,yBAAKvD,UAAWC,IAAOuD,MACpBlB,EACC,kBAAC,EAAD,CAASvC,GAZA,WACfqB,EAAiBJ,GACjBM,EAAaxE,GACb0E,GAAY,MAWNvE,EAAUwG,IAAI,SAAAzG,GAAC,OACb,yBAAKgD,UAAWC,IAAOyD,IAAKvF,IAAKnB,GAC9BC,EAAUwG,IAAI,SAAA1G,GAAC,OACd,yBAAKoB,IAAKpB,GEvEH,SAACA,EAAWC,EAAWmE,GAC5C,GAAIzD,EAASX,IAAMA,GAAKW,EAASV,IAAMA,EACrC,OACE,yBAAKgD,UAAWC,IAAO0D,MACrB,kBAAC,EAAD,CAAOC,KAAK,SAKlB,IAAK,IAAI7F,EAAI,EAAGA,EAAIoD,EAAclD,OAAQF,IACxC,GAAIoD,EAAcpD,GAAGhB,IAAMA,GAAKoE,EAAcpD,GAAGf,IAAMA,EACrD,OAAU,IAANe,EACK,yBAAKiC,UAAWC,IAAO4D,aAEzB,yBAAK7D,UAAWC,IAAO6D,aF0DjBC,CAAQhH,EAAGC,EAAGmE,IACb,yBAAKnB,UAAWC,IAAO+D,eAQrC,yBAAKhE,UAAWC,IAAO9C,MACrB,kBAAC,EAAD,OAEF,uBAAG8G,KAAK,8CAAR,iBG9EcC,QACW,cAA7BhC,OAAOiC,SAASC,UAEe,UAA7BlC,OAAOiC,SAASC,UAEhBlC,OAAOiC,SAASC,SAASC,MACvB,2DCZNC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,SDmI3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC,gB,kBE1InBpI,EAAOC,QAAU,CAAC,KAAO,sBAAsB,YAAc,gC","file":"static/js/main.7e19fd51.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"game_box\":\"App_game_box__kDf_H\",\"game_title\":\"App_game_title__3RkM-\",\"grid\":\"App_grid__1abE7\",\"row\":\"App_row__3uKGE\",\"pixel_base\":\"App_pixel_base__1ALCZ\",\"pixel\":\"App_pixel__1g57w App_pixel_base__1ALCZ\",\"snake_head\":\"App_snake_head__lj8zI App_pixel_base__1ALCZ\",\"snake_body\":\"App_snake_body__1Vyvv App_pixel_base__1ALCZ\",\"food\":\"App_food__3R-9W App_pixel_base__1ALCZ\",\"keys\":\"App_keys__SOGqm\"};","export enum ARROW {\n  UP = 'ArrowUp',\n  DOWN = 'ArrowDown',\n  LEFT = 'ArrowLeft',\n  RIGHT = 'ArrowRight'\n}\n\nexport interface Position {\n  x: number\n  y: number\n}\n\nexport const DIRECTION = {\n  RIGHT: { x: 1, y: 0 },\n  LEFT: { x: -1, y: 0 },\n  TOP: { x: 0, y: -1 },\n  BOTTOM: { x: 0, y: 1 }\n} as const\n\nexport type DIRECTION = keyof typeof DIRECTION\n\nexport const FIELD_SIZE = 16\nexport const FIELD_ROW = [...new Array(FIELD_SIZE).keys()]\n","import { FIELD_SIZE } from './types'\nimport { Position } from './types'\nimport { SnakeSegments } from './App'\n\nconst limitByField = (x: number) => {\n  if (x >= FIELD_SIZE) {\n    return 0\n  }\n  if (x < 0) {\n    return FIELD_SIZE - 1\n  }\n\n  return x\n}\n\nconst getFoodItem = () => ({\n  x: Math.floor(Math.random() * FIELD_SIZE),\n  y: Math.floor(Math.random() * FIELD_SIZE)\n})\n\nexport let foodItem = getFoodItem()\n\nconst collidesWithFood = (head: Position, foodItem: Position) => {\n  return foodItem.x === head.x && foodItem.y === head.y\n}\n\nexport const newSnakePosition = (\n  segments: SnakeSegments,\n  direction: Position\n) => {\n  const [head] = segments\n  const newHead = {\n    x: limitByField(head.x + direction.x),\n    y: limitByField(head.y + direction.y)\n  }\n  if (collidesWithFood(newHead, foodItem)) {\n    foodItem = getFoodItem()\n\n    return [newHead, ...segments]\n  } else {\n    return [newHead, ...segments.slice(0, -1)]\n  }\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"m150.37 130.25c-2.45 5.66-5.35 10.87-8.71 15.66-4.58 6.53-8.33 11.05-11.22 13.56-4.48 4.12-9.28 6.23-14.42 6.35-3.69 0-8.14-1.05-13.32-3.18-5.197-2.12-9.973-3.17-14.34-3.17-4.58 0-9.492 1.05-14.746 3.17-5.262 2.13-9.501 3.24-12.742 3.35-4.929 0.21-9.842-1.96-14.746-6.52-3.13-2.73-7.045-7.41-11.735-14.04-5.032-7.08-9.169-15.29-12.41-24.65-3.471-10.11-5.211-19.9-5.211-29.378 0-10.857 2.346-20.221 7.045-28.068 3.693-6.303 8.606-11.275 14.755-14.925s12.793-5.51 19.948-5.629c3.915 0 9.049 1.211 15.429 3.591 6.362 2.388 10.447 3.599 12.238 3.599 1.339 0 5.877-1.416 13.57-4.239 7.275-2.618 13.415-3.702 18.445-3.275 13.63 1.1 23.87 6.473 30.68 16.153-12.19 7.386-18.22 17.731-18.1 31.002 0.11 10.337 3.86 18.939 11.23 25.769 3.34 3.17 7.07 5.62 11.22 7.36-0.9 2.61-1.85 5.11-2.86 7.51zm-31.26-123.01c0 8.1021-2.96 15.667-8.86 22.669-7.12 8.324-15.732 13.134-25.071 12.375-0.119-0.972-0.188-1.995-0.188-3.07 0-7.778 3.386-16.102 9.399-22.908 3.002-3.446 6.82-6.3113 11.45-8.597 4.62-2.2516 8.99-3.4968 13.1-3.71 0.12 1.0831 0.17 2.1663 0.17 3.2409z\"\n});\n\nvar SvgApple = function SvgApple(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: \"170px\",\n    viewBox: \"0 0 170 170\",\n    height: \"170px\",\n    ref: svgRef\n  }, props), React.createElement(\"title\", null, title), _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgApple, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/Apple.9838ea6b.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react'\nimport styles from './YouDied.module.scss'\n\ninterface Props {\n  cb: () => void\n}\n\nconst YouDied: React.FC<Props> = ({ cb }) => (\n  <>\n    <h1 className={styles.died}>You died</h1>\n    <button className={styles.died_button} onClick={cb}>\n      Try not to eat yourself again\n    </button>\n  </>\n)\n\nexport default YouDied\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"style\", {\n  type: \"text/css\"\n}, \"\\n\\t.st0{fill:none;stroke:#424242;stroke-width:1.122;stroke-miterlimit:10;}\\n\\t.st1{fill:#424242;stroke:#424242;stroke-width:0.8;stroke-miterlimit:10;}\\n\");\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  className: \"st0\",\n  d: \"m24.1 46.1h-15.3c-0.9 0-1.7-0.7-1.7-1.7v-15.3c0-0.9 0.8-1.7 1.7-1.7h15.3c0.9 0 1.7 0.8 1.7 1.7v15.3c0 1-0.7 1.7-1.7 1.7z\"\n});\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  className: \"st1\",\n  d: \"m12.3 36.6h2.1 6.8 0.2c0.1 0 0.2 0.1 0.2 0.2s-0.1 0.2-0.2 0.2h-0.2-8.6-0.2c0.1 0.1 0.1 0.1 0.1 0.2l1.3 1.3c0.1 0.1 0.1 0.2 0.1 0.3s-0.1 0.2-0.2 0.2-0.2 0-0.3-0.1l-0.9-0.9-1-1c-0.2-0.2-0.2-0.3 0-0.4l1.9-1.9c0.2-0.2 0.4-0.1 0.4 0.1 0 0.1-0.1 0.2-0.1 0.3l-1.3 1.3s-0.1 0.1-0.1 0.2z\"\n});\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  className: \"st0\",\n  d: \"m55.9 46.1h15.3c0.9 0 1.7-0.7 1.7-1.7v-15.3c0-0.9-0.8-1.7-1.7-1.7h-15.3c-1 0-1.7 0.8-1.7 1.7v15.3c0 1 0.8 1.7 1.7 1.7z\"\n});\n\nvar _ref6 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  className: \"st1\",\n  d: \"m67.8 36.6h-2.1-6.8-0.2c-0.1 0-0.2 0.1-0.2 0.2s0.1 0.2 0.2 0.2h0.2 8.6 0.2c-0.1 0.1-0.1 0.1-0.1 0.2l-1.3 1.3c-0.1 0.1-0.1 0.2-0.1 0.3s0.1 0.2 0.2 0.2 0.2 0 0.3-0.1l0.9-0.9 1-1c0.2-0.2 0.2-0.3 0-0.4l-1.9-1.9c-0.2-0.2-0.4-0.1-0.4 0.1 0 0.1 0.1 0.2 0.1 0.3l1.3 1.3s0 0.1 0.1 0.2z\"\n});\n\nvar _ref7 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  className: \"st0\",\n  d: \"m30.7 20.9v-15.3c0-0.9 0.7-1.7 1.7-1.7h15.3c1 0 1.7 0.8 1.7 1.7v15.3c0 0.9-0.7 1.7-1.7 1.7h-15.3c-1 0-1.7-0.7-1.7-1.7z\"\n});\n\nvar _ref8 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  className: \"st1\",\n  d: \"m40.3 9.1v2.1 6.8 0.2s-0.1 0.2-0.2 0.2-0.2-0.1-0.2-0.2 0-0.1 0-0.2v-8.6-0.2c-0.1 0.1-0.1 0.1-0.2 0.1l-1.3 1.3c-0.1 0.1-0.2 0.1-0.3 0.1s-0.2-0.1-0.2-0.2 0-0.2 0.1-0.3l0.9-0.9 1-1c0.2-0.2 0.3-0.2 0.4 0l1.9 1.9c0.2 0.2 0.1 0.4-0.1 0.4-0.1 0-0.2-0.1-0.3-0.1l-1.3-1.3c-0.1 0-0.2-0.1-0.2-0.1z\"\n});\n\nvar _ref9 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  className: \"st0\",\n  d: \"m30.7 29.1v15.3c0 1 0.8 1.7 1.7 1.7h15.3c0.9 0 1.7-0.7 1.7-1.7v-15.3c0-1-0.8-1.7-1.7-1.7h-15.3c-1 0.1-1.7 0.8-1.7 1.7z\"\n});\n\nvar _ref10 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  className: \"st1\",\n  d: \"m40.3 41v-2.1-6.8-0.2s-0.1-0.2-0.2-0.2-0.2 0.1-0.2 0.2 0 0.1 0 0.2v8.6 0.2c-0.1-0.1-0.1-0.1-0.2-0.1l-1.3-1.3c-0.1-0.1-0.2-0.1-0.3-0.1s-0.2 0.1-0.2 0.2 0 0.2 0.1 0.3l0.9 0.9 1 1c0.2 0.2 0.3 0.2 0.4 0l1.9-1.9c0.2-0.2 0.1-0.4-0.1-0.4-0.1 0-0.2 0.1-0.3 0.1l-1.3 1.3c-0.1 0-0.2 0-0.2 0.1z\"\n});\n\nvar SvgKeys = function SvgKeys(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    enableBackground: \"new 0 0 80 50\",\n    viewBox: \"0 0 80 50\",\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), React.createElement(\"title\", null, title), _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgKeys, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/Keys.cb68bc3a.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useEffect, useCallback } from 'react'\nimport { DIRECTION, FIELD_ROW, ARROW, Position } from './types'\nimport { useInterval } from './useInterval'\nimport { newSnakePosition } from './calcPositions'\nimport { getItem } from './getItem'\nimport YouDied from './YouDied'\nimport styles from './App.module.scss'\nimport { ReactComponent as Keys } from './Keys.svg'\n\nexport interface SnakeSegments extends Array<Position> {}\n\nconst initialSnake = [{ x: 8, y: 8 }, { x: 8, y: 7 }, { x: 8, y: 6 }]\n\nconst App: React.FC = () => {\n  const [snakeSegments, setSnakeSegments] = useState<SnakeSegments>(\n    initialSnake\n  )\n  const [direction, setDirection] = useState<Position>(DIRECTION.LEFT)\n  const [gameOver, setGameOver] = useState(false)\n\n  const handleKeyPress = useCallback((ev: KeyboardEvent) => {\n    const code = ev.code\n\n    if (code === ARROW.UP) {\n      setDirection(DIRECTION.TOP)\n    }\n    if (code === ARROW.DOWN) {\n      setDirection(DIRECTION.BOTTOM)\n    }\n    if (code === ARROW.LEFT) {\n      setDirection(DIRECTION.LEFT)\n    }\n    if (code === ARROW.RIGHT) {\n      setDirection(DIRECTION.RIGHT)\n    }\n  }, [])\n\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyPress)\n\n    return () => window.removeEventListener('keydown', handleKeyPress)\n  }, [handleKeyPress])\n\n  const [head, ...tail] = snakeSegments\n\n  const intersectsWithItself = tail.some(\n    tailSegment => tailSegment.x === head.x && tailSegment.y === head.y\n  )\n\n  if (intersectsWithItself && !gameOver) {\n    setGameOver(true)\n  }\n\n  useInterval(\n    () => {\n      setSnakeSegments(segments => newSnakePosition(segments, direction))\n    },\n    gameOver ? null : 100\n  )\n\n  const tryAgain = () => {\n    setSnakeSegments(initialSnake)\n    setDirection(DIRECTION.LEFT)\n    setGameOver(false)\n  }\n\n  return (\n    <div className={styles.game_box}>\n      <h1 className={styles.game_title}>Snake game</h1>\n\n      <div className={styles.grid}>\n        {intersectsWithItself ? (\n          <YouDied cb={tryAgain} />\n        ) : (\n          FIELD_ROW.map(y => (\n            <div className={styles.row} key={y}>\n              {FIELD_ROW.map(x => (\n                <div key={x}>\n                  {getItem(x, y, snakeSegments) || (\n                    <div className={styles.pixel} />\n                  )}\n                </div>\n              ))}\n            </div>\n          ))\n        )}\n      </div>\n      <div className={styles.keys}>\n        <Keys />\n      </div>\n      <a href=\"https://github.com/vibecode/snake-game-web\">Source code</a>\n    </div>\n  )\n}\n\nexport default App\n","//See Dan Abramovs post\n//https://overreacted.io/making-setinterval-declarative-with-react-hooks/\n\nimport { useEffect, useRef } from 'react'\n\ntype callback = () => void\n\nexport function useInterval(cb: callback, delay: number | null) {\n  const savedCallback = useRef(() => {})\n\n  useEffect(() => {\n    savedCallback.current = cb\n  }, [cb])\n\n  useEffect(() => {\n    if (delay !== null) {\n      let id = setInterval(() => savedCallback.current(), delay)\n      return () => clearInterval(id)\n    }\n  }, [delay])\n}\n","import React from 'react'\nimport { foodItem } from './calcPositions'\nimport { SnakeSegments } from './App'\nimport { ReactComponent as Apple } from './Apple.svg'\nimport styles from './App.module.scss'\n\nexport const getItem = (x: number, y: number, snakeSegments: SnakeSegments) => {\n  if (foodItem.x === x && foodItem.y === y) {\n    return (\n      <div className={styles.food}>\n        <Apple fill=\"red\" />\n      </div>\n    )\n  }\n\n  for (let i = 0; i < snakeSegments.length; i++) {\n    if (snakeSegments[i].x === x && snakeSegments[i].y === y) {\n      if (i === 0) {\n        return <div className={styles.snake_head} />\n      }\n      return <div className={styles.snake_body} />\n    }\n  }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"died\":\"YouDied_died__2zdKj\",\"died_button\":\"YouDied_died_button__y1Gn5\"};"],"sourceRoot":""}